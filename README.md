# 病媒生物识别与数据库搭建

本项目旨在训练能够识别4类病媒（老鼠、蚊子、蟑螂、苍蝇）每类30种共120种生物的图像分类模型，并构建相应的信息数据库以查询物种信息。

## 目录
  1. 数据库的构建
  2. 模型训练
  3. 项目收获

## 项目文件结构

## 1. 数据库的构建
数据库使用SQLite语言搭建，相关文件均在/database 目录下。
### 1.1 结构介绍：
分为四张表以及将其连接的桥表。ER图如下：

<img width="500" height="500" alt="image" src="https://github.com/user-attachments/assets/9fe896ca-8e33-415f-a758-5b25ddfd0299" />

其中，每张表分别存储这些信息：
  - species: id, 物种学名, 物种中文名, 物种俗名, 物种鉴别特征
  - taxonomies: id, 名称, 中文名, 层级（门、纲、目、科、属）
  - diseases: id, 名称, 症状
  - locations: id, 名称, 类别（省份、国家、区域）

分多个表格的好处：
  - 提升一致性：多个物种共用地理位置、分类学、疾病，避免可能的错误拼写问题，节省少量空间（数据量大时更明显）。
  - 提升查询速度：在进行诸如“某地区分布有哪些物种”的查询时，无需全文检索，加快查询。
  - 便于存储信息：分表格存储便于存储诸如分类学层级、疾病症状等细分信息。

### 1.2 创建数据库：
**初始化数据库：**
<br>数据库纲要已编辑好并储存在/database/schema.sql，运行：
```bash
sqlite3 pests.db
.read schema.sql
```
即可初始化数据库。

**填充数据：**
<br>由于使用常规查询语句手动填充数据对于本项目的较大数据量较为困难，因此写了一个脚本/database/csv_to_db.py 简化数据填充流程:
  1. 在/database/data_csv 中相应名称的csv文件中填写内容。
  2. csv_to_db.py 上方配置好路径、表格和模式（replace: 替换, append: 添加）。
  3. 运行脚本即可完成数据填充。
